(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{13:function(e,t,n){e.exports={colors:"'../../colors.css'",bgcPrimary:"#e0e8e5",darkened:"#597387",text:"#252b31",Form__wrap:"InputBox_Form__wrap__dteWi",Form__label:"InputBox_Form__label__2mSmK",Form__input:"InputBox_Form__input__lUUdX"}},18:function(e,t,n){e.exports={colors:"'../../colors.css'",bgcPrimary:"#e0e8e5",darkened:"#597387",text:"#252b31",white:"#ffffff",Form:"Form_Form__1M3ah",Form__btn:"Form_Form__btn__2EDJb"}},20:function(e,t,n){e.exports={Pagination:"Pagination_Pagination__19z1b"}},31:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),i=n(19),r=n.n(i),o=n(4),s=(n(31),n(32),n(2)),l=n(8),j="0edec4b4e23a505bedc5b1a63f656a4c",u="https://api.themoviedb.org/3",b=function(e){return fetch(e).then((function(e){return e.json()})).then((function(e){return e}))},h=function(e,t){switch(e){case"cast":return b("".concat(u,"/movie/").concat(t,"/credits?api_key=").concat(j));case"review":return b("".concat(u,"/movie/").concat(t,"/reviews?api_key=").concat(j));case"info":return b("".concat(u,"/movie/").concat(t,"?api_key=").concat(j));case"query":return b("".concat(u,"/search/movie?api_key=").concat(j,"&query=").concat(t,"&page=1"));case"nPage":return b("".concat(u,"/trending/movie/week?api_key=").concat(j,"&page=").concat(t));default:return b("".concat(u,"/trending/movie/week?api_key=").concat(j))}},d=n(20),m=n.n(d),O=n(0),x=function(e){var t=e.pageNumber,n=e.totalPages,c=e.onFirstPage,a=e.onDecrement,i=e.onIncrement;return Object(O.jsxs)("div",{className:m.a.Pagination,children:[Object(O.jsx)("button",{type:"button",onClick:c,children:"To 1"}),Object(O.jsx)("button",{disabled:1===t,type:"button",onClick:a,children:"Prev"}),Object(O.jsx)("p",{children:t}),Object(O.jsx)("button",{disabled:t>=n,type:"button",onClick:i,children:"Next"})]})},p=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(1),r=Object(l.a)(i,2),s=r[0],j=r[1],u=Object(c.useState)(1),b=Object(l.a)(u,2),d=b[0],m=b[1];Object(c.useEffect)((function(){m(1),h("trend").then((function(e){console.log(e),a(e.results),j(e.total_pages)}))}),[]),Object(c.useEffect)((function(){h("nPage",d).then(console.log)}),[d]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("ul",{children:n.map((function(e){return Object(O.jsx)("li",{children:Object(O.jsx)(o.b,{to:{pathname:"movies/".concat(e.id)},children:e.title})},e.id)}))}),Object(O.jsx)(x,{totalPages:s,pageNumber:d,onFirstPage:function(){m(1)},onDecrement:function(){m(--d)},onIncrement:function(){m(++d)}})]})},v=n(22),_=n(12),f=n(23),g=n(24),N=n(26),F=n(25),w=n(13),k=n.n(w),y=function(e){var t=e.htmlFor,n=e.type,c=e.id,a=e.name,i=e.title,r=e.placeholder,o=e.required,s=e.value,l=e.labelText,j=e.onChange;return Object(O.jsxs)("div",{className:k.a.Form__wrap,children:[Object(O.jsx)("label",{htmlFor:t,className:k.a.Form__label,children:Object(O.jsx)("span",{children:l})}),Object(O.jsx)("input",{className:k.a.Form__input,type:n,id:c,name:a,title:i,placeholder:r,required:o,onChange:j,value:s})]})};y.defaultProps={title:"Please enter some text",required:!0,labelText:"Label for --\x3e"};var S=y,P=n(18),C=n.n(P),T=function(e){Object(N.a)(n,e);var t=Object(F.a)(n);function n(){var e;Object(f.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={inputedText:""},e.setDefaultState=function(){return e.setState({inputedText:""})},e.onChange=function(t){var n=t.target,c=n.name,a=n.value;e.setState(Object(_.a)({},c,a))},e.handleSubmit=function(t){t.preventDefault(),e.state.inputedText.length>=2&&e.props.onSubmit(e.state.inputedText),e.setDefaultState()},e}return Object(g.a)(n,[{key:"render",value:function(){return Object(O.jsxs)("form",{className:C.a.Form,onSubmit:this.handleSubmit,children:[Object(O.jsx)(S,{labelText:"Film",htmlFor:"film",type:"text",id:"film",name:"inputedText",title:" ",placeholder:"Your query",required:!0,value:this.state.inputedText,onChange:this.onChange}),Object(O.jsx)("input",{className:C.a.Form__btn,type:"submit",value:"Submit"})]})}}]),n}(c.Component),I=function(e){var t=e.cast;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("ul",{children:t.cast.map((function(e){return Object(O.jsx)("li",{children:Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:e.character}),Object(O.jsxs)("p",{children:[" - ",e.name]})]})},e.id)}))}),Object(O.jsx)("ul",{children:t.crew.map((function(e){return Object(O.jsx)("li",{children:Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:e.name}),Object(O.jsxs)("p",{children:[" - ",e.job]})]})},e.credit_id)}))})]})},q=function(e){var t=e.reviews;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("ul",{children:t&&t.map((function(e){return Object(O.jsxs)("li",{children:[Object(O.jsx)("h4",{children:e.author}),Object(O.jsx)("p",{children:e.content})]},e.id)}))})})},D=[{path:"/",exact:!0,component:p,label:"Home Page"},{path:"/movies",exact:!0,component:function(e){var t=Object(s.g)(),n=t.pathname,a=t.state,i=(t.search,Object(s.f)().push),r=Object(c.useState)((null===a||void 0===a?void 0:a.theSearch)||""),j=Object(l.a)(r,2),u=j[0],b=j[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(T,{onSubmit:function(e){return h("query",e).then((function(e){console.log(e),b(e.results),i(Object(v.a)({},t))})).catch((function(e){return"Something gone wrong"}))}}),u&&Object(O.jsx)("ul",{children:u.map((function(e){return Object(O.jsx)("li",{children:Object(O.jsx)(o.b,{to:{pathname:"".concat(n,"/").concat(e.id),state:{theSearch:u}},children:Object(O.jsx)("h4",{children:e.title})})},e.id)}))})]})},label:"Movies Page"},{path:"/movies/:movieId",component:function(e){var t=Object(s.h)(),n=Object(c.useState)(),a=Object(l.a)(n,2),i=a[0],r=a[1],o=Object(c.useState)({cast:[],crew:[]}),j=Object(l.a)(o,2),u=j[0],b=j[1],d=Object(c.useState)(),m=Object(l.a)(d,2),x=m[0],p=m[1];Object(c.useEffect)((function(){h("info",t.movieId).then((function(e){r(e)})).catch((function(e){return console.log("Something gone wrong",e)}))}),[]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("h4",{children:["\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043e\u0434\u043d\u043e\u0433\u043e \u0444\u0438\u043b\u044c\u043c\u0430 ",t.movieId]}),Object(O.jsxs)("div",{children:[i&&Object(O.jsxs)("div",{children:[Object(O.jsx)("h4",{children:i.title}),Object(O.jsxs)("p",{children:["Runtime: ",i.runtime," mins."]}),Object(O.jsxs)("p",{children:["Overview: ",i.overview]}),Object(O.jsx)("img",{src:"https://image.tmdb.org/t/p/w300".concat(i.backdrop_path),alt:i.overview,title:i.tagline})]}),Object(O.jsx)("button",{onClick:function(){return e.history.push({pathname:"/movies",state:e.history.location.state})},children:"Go back"})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("button",{onClick:function(){h("cast",t.movieId).then((function(e){console.log(e),b(e)})).catch((function(e){return console.log("Something gone wrong",e)}))},children:"Cast"}),Object(O.jsx)("button",{onClick:function(){h("review",t.movieId).then((function(e){console.log(e.results),p(e.results)}))},children:"Reviews"})]}),Object(O.jsx)("div",{children:Object(O.jsx)(I,{cast:u})}),Object(O.jsx)("div",{children:Object(O.jsx)(q,{reviews:x})})]})},label:"Movie Detail"}],E=n(9),B=n.n(E),M=function(){return Object(O.jsxs)("header",{className:B.a.Nav,children:[Object(O.jsx)("h3",{children:"Logo"}),Object(O.jsx)("nav",{children:Object(O.jsxs)("ul",{className:B.a.Nav__list,children:[Object(O.jsx)("li",{className:B.a.Nav__item,children:Object(O.jsx)(o.c,{exact:!0,activeClassName:B.a.active,className:B.a.link,to:"/",children:"Home"})}),Object(O.jsx)("li",{className:B.a.Nav__item,children:Object(O.jsx)(o.c,{exact:!0,activeClassName:B.a.active,className:B.a.link,to:"/movies",children:"Movies"})})]})})]})},L=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h2",{children:"404 - PAGE NOT FOUND"}),Object(O.jsx)(o.b,{to:"/",children:" To Home Page "})]})},H=(n(42),function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(M,{}),Object(O.jsxs)(s.c,{children:[D.map((function(e){var t=e.path,n=e.exact,c=e.component,a=e.label;return Object(O.jsx)(s.a,{path:t,exact:n,component:c,label:a},t)})),Object(O.jsx)(s.a,{component:L})]})]})});r.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(o.a,{children:Object(O.jsx)(H,{})})}),document.getElementById("root"))},9:function(e,t,n){e.exports={Nav:"Nav_Nav__241lP",Nav__list:"Nav_Nav__list__3SBv1",Nav__item:"Nav_Nav__item__K-pm8",active:"Nav_active__3fnRL",link:"Nav_link__L5NXr"}}},[[43,1,2]]]);
//# sourceMappingURL=main.7b11de8e.chunk.js.map